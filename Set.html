<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>集合</title>
</head>
<body>
<script>
    function Set() {
        var items = {};
        var length = 0;
        this.add = function (value) {
            if(!this.has(items)){
                items[value] = value;
                length++;
                return true;
            }
            return false;
        };
        this.remove = function (value) {
            if(this.has(value)) {
                delete items[value];
                length--;
                return true;
            }
            return false;
        };
        this.has = function (value) {
            return items.hasOwnProperty(value);
        };
        this.clear = function () {
            items = {};
        };
        this.size = function () {
            return length;
        };
        this.values = function () {
            return Object.keys(items);
        };
        this.print = function () {
            console.log(items);
        };
        // 并集
        this.union = function (otherSet) {
            var union = new Set();
            var values = this.values();
            for (var i = 0; i < values.length; i++) {
                union.add(values[i]);
            }
            var otherSetValue = otherSet.values();
            for (var j = 0; j < otherSetValue.length; j++) {
                union.add(otherSetValue[j])
            }
            return union;
        };
        // 交集
        this.intersection = function (otherSet) {
            var intersectionSet = new Set();
            var values = this.values();
            for (var i=0;i<values.length;i++) {
                if(otherSet.has(values[i])){
                    intersectionSet.add(values[i]);
                }
            }
            return intersectionSet;
        };
        // 差集
        this.difference=function (otherSet) {
            var difference = new Set();
            var values = this.values();
            for (var i=0;i<values.length;i++) {
                if(!otherSet.has(values[i])){
                    difference.add(values[i])
                }
            }
            return difference;
        }
    //    子集
        this.subset = function (otherSet) {
            var values = this.values();
            if(otherSet.getLength()>this.getLength()) {
                return false;
            }
            for (var i=0;i<values.length;i++) {
                if(!otherSet.has(values[i])){
                    return false;
                }
            }
            return true;
        };
    }

</script>
</body>
</html>